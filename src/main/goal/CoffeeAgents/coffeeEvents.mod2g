%%%%% Event module shared by agents that are part of the coffee.mas2g multi-agent system. %%%%%
use coffee as knowledge.

module coffeeEvents {
	% answer information requests.
	forall (Machine).sent?(canProduce(_)), bel(canProduce(Product)) do (Machine).send:(canProduce(Product)).
	
	% process information from other agents.
	forall (Machine).sent:(canProduce(Product)) do insert(canProduce(Machine,Product)).
	
	% process delivery requests.
	forall (Machine).sent!(have(Product)) do adopt(delivered(Machine,Product)).

	% process actual deliveries
	forall (Machine).sent(have(Product)) do insert(have(Product)).
}
